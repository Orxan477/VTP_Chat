@using VTP_Chat.VM
@model HomeVM
@{
    ViewData["Title"] = "Home Page";
}
<div class="container">
    <div class="row">
        <div class="col-lg-12" style="display:flex; justify-content:center">
            <div class="col-lg-5" style="margin-top:5%">
                <form id="enterGroup" asp-action="Index">
                    <div class="form-group">
                        <input type="hidden" value="" />
                        <input type="hidden" id="userName" class="form-control" value="@User.Identity.Name" />
                    </div>
                    <div class="form-group">
                        <select id="group" class="form-control">
                            @foreach (var group in @Model.Groups)
                            {
                                <option value="@group.Value">@group.Name</option>
                            }
                        </select>
                    </div>
                    <button type="submit" class="btn btn-success">Join</button>
                </form>
            </div>
        </div>
    </div>
    <div class="row d-none" style="margin-top:5%">
        <div class="col-lg-6">
            <button class="btn btn-danger mb-3" id="leaveGroup">Leave</button>
        </div>
        <div class="col-lg-6 d-flex justify-content-end">
            <form id="clearMessages">
                <button class="btn btn-warning mb-3" type="submit" >Clear</button>
            </form>
        </div>

        <div class="col-lg-12">
            <ul class="list-group" id="appendMessage">
                @*@if (Model.Chats != null)
                {
                    @foreach (var chat in Model.Chats)
                    {
                        <li class="list-group-item">
                            <b>@chat.AppUser.UserName</b>
                            <p>@chat.Message</p>
                            <span class="text-muted d-flex justify-content-end">@chat.Date.Hour:@chat.Date.Minute:@chat.Date.Second</span>
                        </li>
                    }
                }*@
            </ul>
        </div>
        <div class="col-lg-12 mt-4">
            <form id="sendMessageForm">
                <div class="form-group">
                    <textarea class="form-control"></textarea>
                    <span class="text-danger"><b id="validation"></b></span>
                </div>
                <button type="submit" class="btn btn-primary mb-3">Send</button>
            </form>
        </div>
    </div>
</div>
<script src="~/js/microsoft/signalr/dist/browser/signalr.js"></script>
<script src="~/js/chat.js"></script>
@*<script src="~/js/ajax.js"></script>*@
